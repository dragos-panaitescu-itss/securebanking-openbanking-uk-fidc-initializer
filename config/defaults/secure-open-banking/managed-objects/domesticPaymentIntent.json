[
  {
    "operation": "add",
    "field": "objects/-",
    "value": {
      "name": "domesticPaymentIntent",
      "schema": {
        "$schema": "http://forgerock.org/json-schema#",
        "type": "object",
        "title": "Domestic Payment Intent",
        "description": "Domestic Payment Intent",
        "icon": "fa-money",
        "properties": {
          "_id": {
            "title": "IDM Internal ID",
            "type": "string",
            "viewable": true,
            "searchable": true,
            "userEditable": true,
            "description": null,
            "isVirtual": false,
            "deleteQueryConfig": false
          },
          "Data": {
            "title": "Data",
            "type": "object",
            "viewable": true,
            "searchable": true,
            "userEditable": true,
            "properties": {
              "ConsentId": {
                "title": "Payment Intent Id",
                "type": "string",
                "viewable": true,
                "searchable": true,
                "userEditable": true
              },
              "CreationDateTime": {
                "title": "Creation Date Time",
                "type": "string",
                "viewable": true,
                "searchable": true,
                "userEditable": true
              },
              "Status": {
                "title": "Payment Intent Status",
                "type": "string",
                "viewable": true,
                "searchable": true,
                "userEditable": true,
                "description": "Payment Intent Status",
                "minLength": null,
                "isVirtual": false
              },
              "StatusUpdateDateTime": {
                "title": "Status Update Date Time",
                "type": "string",
                "viewable": true,
                "searchable": true,
                "userEditable": true,
                "description": null,
                "minLength": null,
                "isVirtual": false
              },
              "ExpectedExecutionDateTime": {
                "title": "Expected Execution Date Time",
                "type": "string",
                "viewable": true,
                "searchable": false,
                "userEditable": true,
                "description": null,
                "minLength": null,
                "isVirtual": false
              },
              "ExpectedSettlementDateTime": {
                "title": "Expected Settlement Date Time",
                "type": "string",
                "viewable": true,
                "searchable": false,
                "userEditable": true,
                "description": null,
                "minLength": null,
                "isVirtual": false
              },
              "CutOffDateTime": {
                "title": "Cut Off Date Time",
                "type": "string",
                "viewable": true,
                "searchable": false,
                "userEditable": true,
                "description": null,
                "minLength": null,
                "isVirtual": false
              },
              "Charges": {
                "title": "Charges",
                "viewable": true,
                "searchable": false,
                "userEditable": false,
                "returnByDefault": false,
                "type": "array",
                "items": {
                  "type": "object",
                  "title": "Charge",
                  "viewable": true,
                  "searchable": true,
                  "userEditable": true,
                  "properties": {
                    "ChargeBearer": {
                      "title": "Charge Bearer",
                      "type": "string",
                      "viewable": true,
                      "searchable": true,
                      "userEditable": true,
                      "description": "Specifies which party/parties will bear the charges associated with the processing of the payment transaction.\nValues:\n - BorneByCreditor\n - BorneByDebtor\n - FollowingServiceLevel\n - Shared",
                      "isVirtual": false,
                      "deleteQueryConfig": false
                    },
                    "Amount": {
                      "title": "Amount",
                      "type": "object",
                      "viewable": true,
                      "searchable": false,
                      "userEditable": true,
                      "properties": {
                        "Amount": {
                          "title": "Amount",
                          "type": "string",
                          "viewable": true,
                          "searchable": false,
                          "userEditable": true,
                          "description": "A number of monetary units specified in an active currency where the unit of currency is explicit and compliant with ISO 4217.",
                          "isVirtual": false
                        },
                        "Currency": {
                          "title": "Currency",
                          "type": "string",
                          "viewable": true,
                          "searchable": false,
                          "userEditable": true,
                          "description": "A code allocated to a currency by a Maintenance Agency under an international identification scheme, as described in the latest edition of the international standard ISO 4217 \"Codes for the representation of currencies and funds\".",
                          "isVirtual": false
                        }
                      },
                      "order": [
                        "Amount",
                        "Currency"
                      ],
                      "description": "Amount of money associated with the charge type.",
                      "isVirtual": false,
                      "required": [
                        "Amount",
                        "Currency"
                      ],
                      "nullable": false
                    },
                    "Type": {
                      "title": "Type",
                      "type": "string",
                      "viewable": true,
                      "searchable": true,
                      "userEditable": true,
                      "description": "Charge type, in a coded form.\nValues:\n - UK.OBIE.CHAPSOut",
                      "isVirtual": false,
                      "deleteQueryConfig": false
                    }
                  }
                }
              },
              "Initiation": {
                "title": "Initiation",
                "type": "object",
                "viewable": true,
                "searchable": false,
                "userEditable": true,
                "properties": {
                  "InstructionIdentification": {
                    "title": "Instruction Identification",
                    "type": "string",
                    "viewable": true,
                    "searchable": false,
                    "userEditable": true,
                    "description": null,
                    "minLength": null,
                    "isVirtual": false
                  },
                  "EndToEndIdentification": {
                    "title": "End To End Identification",
                    "type": "string",
                    "viewable": true,
                    "searchable": false,
                    "userEditable": true,
                    "description": null,
                    "minLength": null,
                    "isVirtual": false
                  },
                  "LocalInstrument": {
                    "title": "Local Instrument",
                    "type": "string",
                    "viewable": true,
                    "searchable": false,
                    "userEditable": true,
                    "description": null,
                    "minLength": null,
                    "isVirtual": false
                  },
                  "InstructedAmount": {
                    "title": "Instructed Amount",
                    "type": "object",
                    "viewable": true,
                    "searchable": false,
                    "userEditable": true,
                    "properties": {
                      "Amount": {
                        "title": "Amount",
                        "type": "string",
                        "viewable": true,
                        "searchable": false,
                        "userEditable": true,
                        "description": null,
                        "minLength": null,
                        "isVirtual": false
                      },
                      "Currency": {
                        "title": "Currency",
                        "type": "string",
                        "viewable": true,
                        "searchable": false,
                        "userEditable": true,
                        "description": null,
                        "minLength": null,
                        "isVirtual": false
                      }
                    },
                    "order": [
                      "Amount",
                      "Currency"
                    ],
                    "description": null,
                    "isVirtual": false,
                    "required": [
                      "Amount",
                      "Currency"
                    ],
                    "nullable": false
                  },
                  "DebtorAccount": {
                    "title": "Debtor Account",
                    "type": "object",
                    "viewable": true,
                    "searchable": false,
                    "userEditable": true,
                    "properties": {
                      "AccountId": {
                        "title": "Account id",
                        "type": "string",
                        "viewable": true,
                        "searchable": true,
                        "userEditable": true,
                        "description": "Account id",
                        "minLength": null,
                        "isVirtual": false
                      },
                      "SchemeName": {
                        "title": "Scheme Name",
                        "type": "string",
                        "viewable": true,
                        "searchable": false,
                        "userEditable": true,
                        "description": null,
                        "minLength": null,
                        "isVirtual": false
                      },
                      "Identification": {
                        "title": "Debtor Identification",
                        "type": "string",
                        "viewable": true,
                        "searchable": false,
                        "userEditable": true,
                        "description": "Debtor Identification",
                        "minLength": null,
                        "isVirtual": false
                      },
                      "Name": {
                        "title": "Name",
                        "type": "string",
                        "viewable": true,
                        "searchable": false,
                        "userEditable": true,
                        "description": null,
                        "minLength": null,
                        "isVirtual": false
                      },
                      "SecondaryIdentification": {
                        "title": "Secondary Identification",
                        "type": "string",
                        "viewable": true,
                        "searchable": false,
                        "userEditable": true,
                        "description": null,
                        "minLength": null,
                        "isVirtual": false
                      }
                    },
                    "order": [
                      "AccountId",
                      "SchemeName",
                      "Identification",
                      "Name",
                      "SecondaryIdentification"
                    ],
                    "description": null,
                    "isVirtual": false,
                    "nullable": false
                  },
                  "CreditorAccount": {
                    "title": "Creditor Account",
                    "type": "object",
                    "viewable": true,
                    "searchable": false,
                    "userEditable": true,
                    "properties": {
                      "SchemeName": {
                        "title": "Scheme Name",
                        "type": "string",
                        "viewable": true,
                        "searchable": false,
                        "userEditable": true,
                        "description": null,
                        "minLength": null,
                        "isVirtual": false
                      },
                      "Identification": {
                        "title": "Creditor Identification",
                        "type": "string",
                        "viewable": true,
                        "searchable": false,
                        "userEditable": true,
                        "description": "Creditor Identification",
                        "minLength": null,
                        "isVirtual": false
                      },
                      "Name": {
                        "title": "Name",
                        "type": "string",
                        "viewable": true,
                        "searchable": false,
                        "userEditable": true,
                        "description": null,
                        "minLength": null,
                        "isVirtual": false
                      },
                      "SecondaryIdentification": {
                        "title": "Secondary Identification",
                        "type": "string",
                        "viewable": true,
                        "searchable": false,
                        "userEditable": true,
                        "description": null,
                        "minLength": null,
                        "isVirtual": false
                      }
                    },
                    "order": [
                      "SchemeName",
                      "Identification",
                      "Name",
                      "SecondaryIdentification"
                    ],
                    "description": null,
                    "isVirtual": false,
                    "required": [
                      "SchemeName",
                      "Identification",
                      "Name"
                    ],
                    "nullable": false
                  },
                  "CreditorPostalAddress": {
                    "title": "Creditor Postal Address",
                    "type": "object",
                    "viewable": true,
                    "searchable": false,
                    "userEditable": true,
                    "properties": {
                      "AddressType": {
                        "title": "Address Type",
                        "type": "string",
                        "viewable": true,
                        "searchable": false,
                        "userEditable": true,
                        "description": null,
                        "minLength": null,
                        "isVirtual": false
                      },
                      "Department": {
                        "title": "Department",
                        "type": "string",
                        "viewable": true,
                        "searchable": false,
                        "userEditable": true,
                        "description": null,
                        "minLength": null,
                        "isVirtual": false
                      },
                      "SubDepartment": {
                        "title": "SubDepartment",
                        "type": "string",
                        "viewable": true,
                        "searchable": false,
                        "userEditable": true,
                        "description": null,
                        "minLength": null,
                        "isVirtual": false
                      },
                      "StreetName": {
                        "title": "Street Name",
                        "type": "string",
                        "viewable": true,
                        "searchable": false,
                        "userEditable": true,
                        "description": null,
                        "minLength": null,
                        "isVirtual": false
                      },
                      "BuildingNumber": {
                        "title": "Building Number",
                        "type": "string",
                        "viewable": true,
                        "searchable": false,
                        "userEditable": true,
                        "description": null,
                        "minLength": null,
                        "isVirtual": false
                      },
                      "PostCode": {
                        "title": "Post Code",
                        "type": "string",
                        "viewable": true,
                        "searchable": false,
                        "userEditable": true,
                        "description": null,
                        "minLength": null,
                        "isVirtual": false
                      },
                      "TownName": {
                        "title": "Town Name",
                        "type": "string",
                        "viewable": true,
                        "searchable": false,
                        "userEditable": true,
                        "description": null,
                        "minLength": null,
                        "isVirtual": false
                      },
                      "CountrySubDivision": {
                        "title": "Country Sub Division",
                        "type": "string",
                        "viewable": true,
                        "searchable": false,
                        "userEditable": true,
                        "description": null,
                        "minLength": null,
                        "isVirtual": false
                      },
                      "Country": {
                        "title": "Country",
                        "type": "string",
                        "viewable": true,
                        "searchable": false,
                        "userEditable": true,
                        "description": null,
                        "minLength": null,
                        "isVirtual": false
                      },
                      "AddressLine": {
                        "title": "Address Line",
                        "type": "array",
                        "viewable": true,
                        "searchable": false,
                        "userEditable": true,
                        "items": {
                          "type": "string"
                        }
                      }
                    },
                    "order": [
                      "AddressType",
                      "Department",
                      "SubDepartment",
                      "StreetName",
                      "BuildingNumber",
                      "PostCode",
                      "TownName",
                      "CountrySubDivision",
                      "Country",
                      "AddressLine"
                    ],
                    "description": null,
                    "isVirtual": false,
                    "nullable": false
                  },
                  "RemittanceInformation": {
                    "title": "Remittance Information",
                    "type": "object",
                    "viewable": true,
                    "searchable": false,
                    "userEditable": true,
                    "properties": {
                      "Unstructured": {
                        "title": "Unstructured",
                        "type": "string",
                        "viewable": true,
                        "searchable": false,
                        "userEditable": true,
                        "description": null,
                        "minLength": null,
                        "isVirtual": false
                      },
                      "Reference": {
                        "title": "Reference",
                        "type": "string",
                        "viewable": true,
                        "searchable": false,
                        "userEditable": true,
                        "description": null,
                        "minLength": null,
                        "isVirtual": false
                      }
                    },
                    "order": [
                      "Unstructured",
                      "Reference"
                    ],
                    "description": null,
                    "isVirtual": false,
                    "nullable": false
                  },
                  "SupplementaryData": {
                    "title": "Supplementary Data",
                    "type": "object",
                    "viewable": true,
                    "searchable": false,
                    "userEditable": true,
                    "properties": {},
                    "order": []
                  }
                },
                "order": [
                  "InstructionIdentification",
                  "EndToEndIdentification",
                  "LocalInstrument",
                  "InstructedAmount",
                  "DebtorAccount",
                  "CreditorAccount",
                  "CreditorPostalAddress",
                  "RemittanceInformation",
                  "SupplementaryData"
                ],
                "description": null,
                "isVirtual": false,
                "nullable": false
              },
              "Authorisation": {
                "title": "Authorisation",
                "type": "object",
                "viewable": true,
                "searchable": false,
                "userEditable": true,
                "properties": {
                  "AuthorisationType": {
                    "title": "Authorisation Type",
                    "type": "string",
                    "viewable": true,
                    "searchable": false,
                    "userEditable": true,
                    "description": null,
                    "minLength": null,
                    "isVirtual": false
                  },
                  "CompletionDateTime": {
                    "title": "Completion Date Time",
                    "type": "string",
                    "viewable": true,
                    "searchable": false,
                    "userEditable": true,
                    "description": null,
                    "minLength": null,
                    "isVirtual": false
                  }
                },
                "order": [
                  "AuthorisationType",
                  "CompletionDateTime"
                ],
                "description": null,
                "isVirtual": false,
                "nullable": false
              }
            },
            "order": [
              "ConsentId",
              "CreationDateTime",
              "Status",
              "StatusUpdateDateTime",
              "ExpectedExecutionDateTime",
              "ExpectedSettlementDateTime",
              "CutOffDateTime",
              "Charges",
              "Initiation",
              "Authorisation"
            ],
            "description": "Data",
            "isVirtual": false,
            "nullable": false
          },
          "Risk": {
            "title": "Risk",
            "type": "object",
            "viewable": true,
            "searchable": false,
            "userEditable": true,
            "properties": {
              "PaymentContextCode": {
                "title": "Payment Context Code",
                "type": "string",
                "viewable": true,
                "searchable": false,
                "userEditable": true,
                "description": "Specifies the payment context",
                "isVirtual": false
              },
              "MerchantCategoryCode": {
                "title": "Merchant Category Code",
                "type": "string",
                "viewable": true,
                "searchable": false,
                "userEditable": true,
                "description": "Category code conform to ISO 18245, related to the type of services or goods the merchant provides for the transaction.",
                "minLength": 3,
                "maxLength": 4,
                "isVirtual": false
              },
              "MerchantCustomerIdentification": {
                "title": "Merchant Customer Identification",
                "type": "string",
                "viewable": true,
                "searchable": false,
                "userEditable": true,
                "description": "The unique customer identifier of the PSU with the merchant.",
                "minLength": 1,
                "maxLength": 70,
                "isVirtual": false
              },
              "DeliveryAddress": {
                "title": "Delivery Address",
                "type": "object",
                "viewable": true,
                "searchable": false,
                "userEditable": true,
                "properties": {
                  "AddressLine": {
                    "title": "Address Line",
                    "type": "array",
                    "viewable": true,
                    "searchable": false,
                    "userEditable": true,
                    "description": "Information that locates and identifies a specific address, as defined by postal services, that is presented in free format text.",
                    "items": {
                      "type": "string"
                    },
                    "isVirtual": false
                  },
                  "StreetName": {
                    "title": "Street Name",
                    "type": "string",
                    "viewable": true,
                    "searchable": false,
                    "userEditable": true,
                    "description": "Name of a street or thoroughfare.",
                    "minLength": 1,
                    "maxLength": 70,
                    "isVirtual": false
                  },
                  "BuildingNumber": {
                    "title": "Building Number",
                    "type": "string",
                    "viewable": true,
                    "searchable": false,
                    "userEditable": true,
                    "description": "Number that identifies the position of a building on a street.",
                    "minLength": 1,
                    "maxLength": 16,
                    "isVirtual": false
                  },
                  "PostCode": {
                    "title": "Post Code",
                    "type": "string",
                    "viewable": true,
                    "searchable": false,
                    "userEditable": true,
                    "description": "Identifier consisting of a group of letters and/or numbers that is added to a postal address to assist the sorting of mail.",
                    "minLength": 1,
                    "maxLength": 16,
                    "isVirtual": false
                  },
                  "TownName": {
                    "title": "Town Name",
                    "type": "string",
                    "viewable": true,
                    "searchable": false,
                    "userEditable": true,
                    "description": "Name of a built-up area, with defined boundaries, and a local government.",
                    "minLength": 1,
                    "maxLength": 35,
                    "isVirtual": false,
                    "nullable": false
                  },
                  "CountrySubDivision": {
                    "title": "Country Sub Division",
                    "type": "string",
                    "viewable": true,
                    "searchable": false,
                    "userEditable": true,
                    "description": "Identifies a subdivision of a country such as state, region, county.",
                    "minLength": 1,
                    "maxLength": 35,
                    "isVirtual": false
                  },
                  "Country": {
                    "title": "Country",
                    "type": "string",
                    "viewable": true,
                    "searchable": false,
                    "userEditable": true,
                    "description": "Nation with its own government, occupying a particular territory.",
                    "isVirtual": false
                  }
                },
                "order": [
                  "AddressLine",
                  "StreetName",
                  "BuildingNumber",
                  "PostCode",
                  "TownName",
                  "CountrySubDivision",
                  "Country"
                ],
                "description": "Information that locates and identifies a specific address, as defined by postal services or in free format text.",
                "isVirtual": false,
                "required": [
                  "TownName",
                  "Country"
                ]
              }
            },
            "order": [
              "PaymentContextCode",
              "MerchantCategoryCode",
              "MerchantCustomerIdentification",
              "DeliveryAddress"
            ],
            "description": "The Risk section is sent by the initiating party to the ASPSP. It is used to specify additional details for risk scoring for Payments.",
            "isVirtual": false,
            "nullable": false
          },
          "Links": {
            "title": "Links",
            "type": "object",
            "viewable": true,
            "searchable": false,
            "userEditable": true,
            "properties": {
              "First": {
                "title": "First",
                "type": "string",
                "viewable": true,
                "searchable": false,
                "userEditable": true,
                "description": null,
                "isVirtual": false
              },
              "Last": {
                "title": "Last",
                "type": "string",
                "viewable": true,
                "searchable": false,
                "userEditable": true,
                "description": null,
                "isVirtual": false
              },
              "Next": {
                "title": "Next",
                "type": "string",
                "viewable": true,
                "searchable": false,
                "userEditable": true,
                "description": null,
                "isVirtual": false
              },
              "Prev": {
                "title": "Prev",
                "type": "string",
                "viewable": true,
                "searchable": false,
                "userEditable": true,
                "description": null,
                "isVirtual": false
              },
              "Self": {
                "title": "Self",
                "type": "string",
                "viewable": true,
                "searchable": false,
                "userEditable": true,
                "description": null,
                "isVirtual": false,
                "nullable": false
              }
            },
            "order": [
              "First",
              "Last",
              "Next",
              "Prev",
              "Self"
            ],
            "required": [
              "Self"
            ],
            "description": "Links relevant to the payload",
            "isVirtual": false
          },
          "Meta": {
            "title": "Meta",
            "type": "object",
            "viewable": true,
            "searchable": false,
            "userEditable": true,
            "properties": {
              "FirstAvailableDateTime": {
                "title": "First Available Date Time",
                "type": "string",
                "viewable": true,
                "searchable": false,
                "userEditable": true,
                "description": "All dates in the JSON payloads are represented in ISO 8601 date-time format.",
                "isVirtual": false
              },
              "LastAvailableDateTime": {
                "title": "Last Available Date Time",
                "type": "string",
                "viewable": true,
                "searchable": false,
                "userEditable": true,
                "description": "All dates in the JSON payloads are represented in ISO 8601 date-time format. ",
                "isVirtual": false
              }
            },
            "order": [
              "FirstAvailableDateTime",
              "LastAvailableDateTime",
              "TotalPages"
            ],
            "required": [
              "Self"
            ],
            "description": "Meta Data relevant to the payload",
            "isVirtual": false
          },
          "user": {
            "title": "User",
            "type": "relationship",
            "viewable": true,
            "searchable": false,
            "userEditable": false,
            "returnByDefault": false,
            "reverseRelationship": true,
            "reversePropertyName": "domesticPaymentIntents",
            "validate": false,
            "properties": {
              "_ref": {
                "type": "string"
              },
              "_refProperties": {
                "type": "object",
                "properties": {
                  "_id": {
                    "type": "string",
                    "required": false,
                    "propName": "_id"
                  }
                }
              }
            },
            "resourceCollection": [
              {
                "path": "managed/user",
                "label": "User",
                "query": {
                  "queryFilter": "true",
                  "fields": [
                    "userName",
                    "mail"
                  ],
                  "sortKeys": []
                }
              }
            ],
            "description": null
          },
          "apiClient": {
            "title": "TPP Application",
            "type": "relationship",
            "viewable": true,
            "searchable": false,
            "userEditable": false,
            "returnByDefault": false,
            "reverseRelationship": true,
            "reversePropertyName": "domesticPaymentIntents",
            "validate": false,
            "properties": {
              "_ref": {
                "type": "string"
              },
              "_refProperties": {
                "type": "object",
                "properties": {
                  "_id": {
                    "type": "string",
                    "required": false,
                    "propName": "_id"
                  }
                }
              }
            },
            "resourceCollection": [
              {
                "path": "managed/apiClient",
                "label": "Apiclient",
                "query": {
                  "queryFilter": "true",
                  "fields": [
                    "name"
                  ],
                  "sortKeys": []
                },
                "notify": false
              }
            ],
            "description": null,
            "requiredByParent": false,
            "isVirtual": false,
            "notifySelf": false,
            "referencedRelationshipFields": null,
            "referencedObjectFields": null,
            "deleteQueryConfig": false
          }
        },
        "order": [
          "_id",
          "Data",
          "Risk",
          "Links",
          "Meta",
          "user",
          "apiClient"
        ],
        "required": [
          "Data",
          "Risk",
          "_id"
        ]
      },
      "iconClass": "fa fa-database",
      "type": "Managed Object",
      "postCreate": {
        "type": "text/javascript",
        "globals": {},
        "source": "object.Data.ConsentId = object._id\nopenidm.update(resourceName.toString(),null, object)"
      }
    }
  }
]
